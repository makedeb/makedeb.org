<header>
	{{ if hasPrefix .RelPermalink "/news" }}
	<a class="makedeb-brand" href="/news">
	{{ else }}
	<a class="makedeb-brand" href="/">
	{{ end }}
		<img class="makedeb-logo" src="/media/makedeb-logo.svg" alt="makedeb logo">
		<p class="makedeb-logo-text">makedeb</p>
	</a>
	
	<div class="links">
		{{ if eq .RelPermalink "/" }}
		<p>Homepage</p>
		{{ else }}
		<a href="/">Homepage</a>
		{{ end }}

		<a href="https://docs.{{ .Site.Params.makedeb_url }}">Docs</a>
		<a href="https://mpr.{{ .Site.Params.hw_url }}">MPR</a>

		{{ if eq .RelPermalink "/news/" }}
		<p>News</p>
		{{ else }}
		<a href="/news">News</a>
		{{ end }}

		{{ if eq .RelPermalink "/donate/" }}
		<p>Donate</p>
		{{ else }}
		<a href="/donate">Donate</a>
		<button class="toggle-btn" id="toggle-theme-button">Dark Mode</button>
		{{ end }}
	</div>
</header>
<hr class="header-hr">

<script>
	const toggleThemeBtn = document.getElementById("toggle-theme-button")
	toggleThemeBtn?.addEventListener("click",function(){
		const body = document.body
		if (body.className=="dark")
		{
			setBodyClass("")
			toggleThemeBtn.classList.remove("active")
			toggleThemeBtn.innerText = "Dark Mode"
			localStorage.removeItem("theme")
		}
		else {
			toggleThemeBtn.classList.add("active")
			toggleThemeBtn.innerText = "Light Mode"
			localStorage.setItem("theme", "dark")
			setBodyClass("dark")
		}
	})

	const theme = localStorage.getItem("theme")
	if (theme == "dark"){
		setBodyClass("dark")
		toggleThemeBtn.classList.add("active")
		toggleThemeBtn.innerText = "Light Mode"
	}

	function setBodyClass(className){
		const body = document.body
		body.className = className
	}
</script>
